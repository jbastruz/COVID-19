load("C:/Users/jeanbaptiste.astruz/Documents/GitHub/COVID-19/run_Result_R.RData")
View(plotList)
fig = plotListInit(NbCountryInit, db_level_1)
load("C:/Users/jeanbaptiste.astruz/OneDrive - ADDACTIS GROUP/Travail/R/PlotPandemic/run_Result_R_V2.RData")
load("C:/Users/jeanbaptiste.astruz/OneDrive - ADDACTIS GROUP/Travail/R/PlotPandemic/run_Result_R_V2.RData")
load("C:/Users/jeanbaptiste.astruz/Documents/GitHub/COVID-19/run_Result_R.RData")
View(plotList)
plotList <- function(A) {
lapply(seq_len(A), function(x) {
fig <- plot_ly(plotdata[plotdata$Country.Region == Country[x],], x = ~day, color = ~I("black"), name = Country[x])
fig <- fig %>% add_markers(y = ~ConfirmedCases, text = rownames(plotdata[plotdata$Country.Region == Country[x],]), showlegend = FALSE)
fig <- fig %>% add_text(x = 40, y = max(plotdata[plotdata$Country.Region == Country[x],]$Y_pred_cred_0.975), text = ~unique(Country[x]), color = I("black"))
fig <- fig %>% add_lines(y = ~Y_pred_median,
line = list(color = 'rgba(7, 164, 181, 1)'))
fig <- fig %>% add_ribbons(data = plotdata[plotdata$Country.Region == Country[x],],
ymin = ~Y_pred_cred_0.025,
ymax = ~Y_pred_cred_0.975,
line = list(color = 'rgba(7, 164, 181, 0.05)'),
fillcolor = 'rgba(7, 164, 181, 0.2)')
fig <- fig %>% layout(showlegend = FALSE, xaxis = list(showgrid = FALSE), yaxis = list(showgrid = FALSE))
}
)}
load("C:/Users/jeanbaptiste.astruz/Documents/GitHub/COVID-19/run_Result_R_V2.RData")
plotListInit <- function(A, B) {
lapply(seq_len(A), function(x) {
fig <- plot_ly(B[B$Country.Region == Country[x],], x = ~day, color = ~I("rgba(7, 164, 181, 1)"), name = Country[x])
fig <- fig %>% add_markers(y = ~cumcases, text = rownames(B[B$Country.Region == Country[x],]), showlegend = FALSE)
fig <- fig %>% add_text(x = 40, y = 1.1*max(1,1*B[B$Country.Region == Country[x],]$cumcases), text = ~unique(Country[x]), color = I("black"))
fig <- fig %>% layout(showlegend = FALSE, title = "DataViz For Gross Data (Confirmed Cases)", xaxis = list(showgrid = FALSE), yaxis = list(showgrid = FALSE))
}
)}
plotList <- function(A, B) {
lapply(seq_len(A), function(x) {
fig <- plot_ly(B[B$Country.Region == Country[x],], x = ~day, color = ~I("black"), name = Country[x])
fig <- fig %>% add_markers(y = ~cumcases, text = rownames(B[B$Country.Region == Country[x],]), showlegend = FALSE)
fig <- fig %>% add_text(x = 40, y = max(B[B$Country.Region == Country[x],]$Y_pred_cred_0.975), text = ~unique(Country[x]), color = I("black"))
fig <- fig %>% add_lines(y = ~Y_pred_median,
line = list(color = 'rgba(7, 164, 181, 1)'))
fig <- fig %>% add_ribbons(data = B[B$Country.Region == Country[x],],
ymin = ~Y_pred_cred_0.025,
ymax = ~Y_pred_cred_0.975,
line = list(color = 'rgba(7, 164, 181, 0.05)'),
fillcolor = 'rgba(7, 164, 181, 0.2)')
fig <- fig %>% layout(showlegend = FALSE, xaxis = list(showgrid = FALSE), yaxis = list(showgrid = FALSE))
}
)}
save.image("~/GitHub/COVID-19/run_Result_R_V2.RData")
View(plotDevBananas)
View(plotList)
View(plotListInit)
getwd()
getwd()
